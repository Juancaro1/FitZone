<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Mi Perfil</title>
    <link rel="stylesheet" th:href="@{/css/StylePerfil.css}">
</head>
<body data-user-id="123">
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
          <img class="logo1" th:src="@{/img/Diseño sin título.png}" alt="logo">
          <img class="navbar-brand logo2" th:src="@{/img/4.png}" alt="nombre-pagina">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
              <a class="nav-link" th:href="@{/localizaciones/agregar}">Anadir spot</a>
              <a class="nav-link" th:href="@{/localizaciones}">Localizaciones</a>
              <a class="nav-link" th:href="@{/logout}"><i class="fa-solid fa-right-to-bracket"></i></a>
            </div>
          </div>
        </div>
      </nav>

    <section>
        <img id="foto-perfil-preview" th:src="@{'/FotoPerfiles/' + ${usuario.imagen}}" alt="Imagen de perfil">
        <p class="nombre-usuario" th:text="${usuario.nombre + ' ' + usuario.apellido}" style="font-size: 25px; font-weight: bold;">Nombre Usuario</p>
        <a class="editar-perfil" href="#" id="editar-perfil-btn">Editar Perfil</a>

        <ul style="display: flex; flex-direction: column;">
            <li style="font-weight: bold; font-size: 22px;">Sobre mi:</li> 
            <span th:text="${usuario.sobreMi}" style="color: black;">No disponible</span>
        </ul>
        <ul style="display: flex; flex-direction: column;">
            <li style="font-weight: bold; font-size: 22px;">Preferencia:</li>
            <span th:text="${preferencias}" style="color: black;">No disponible</span>
        </ul>

        <div class="container-mapa" style="width: 60%;" >
        <h4>Spots agregados por ti</h4>
        <p style="font-size: 16px; font-weight: bold; width: 100%;">Cuando agregues un lugar te lo mostraremos aquí, revisa el mapa y descubre nuevos lugares</p>

        <img src="/img/mapa.jpg" alt="Mapa">

        <a class="boton-ir-mapa" href="#">Ir al Mapa</a>
        </div>


    </section>

    <section id="editar-perfil-modal" style="display: none;">
        <div class="modal-content">
            <h2>Editar Perfil</h2>
            <form id="form-editar-perfil" method="POST" th:action="@{/perfil/editar}" enctype="multipart/form-data">
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" placeholder="Ingresa tu nombre" th:value="${nombreUsuario}" required>
    
                <label for="apellido">Apellido:</label>
                <input type="text" id="apellido" name="apellido" placeholder="Ingresa tu apellido" th:value="${apellidoUsuario}" required>
    
                <label for="sobreMi">Sobre mí:</label>
                <textarea id="sobreMi" name="sobreMi" placeholder="Escribe algo sobre ti" th:text="${sobreMiUsuario}"></textarea>

                <label for="imagen">Cambiar foto de perfil:</label>
                <input type="file" id="imagen" name="file" accept="image/*">
    
                <button type="submit">Guardar Cambios</button>
                <button type="button" id="cancelar-editar-perfil">Cancelar</button>
            </form>
        </div>
    </section>

    <section id="editar-preferencia-modal" style="display: none;">
        <div class="modal-content-preferencia">
            <h2>Editar Preferencias</h2>
            <form th:action="@{/perfil/preferencias/guardar/}" method="POST" id="form-preferencia-perfil">
                <label for="preferencia">Agregar nueva preferencia:</label>
                <input 
                    type="text" 
                    id="preferencia" 
                    name="preferencia" 
                    placeholder="Escribe tu preferencia aquí" 
                    required>
                <button type="submit">Guardar Preferencia</button>
                <button type="button" id="cancelar-editar-preferencia">Cancelar</button>
            </form>
        </div>
    </section>

    <footer class="footer text-white py-3">
        <div class="container d-flex justify-content-center align-items-center gap-5">
            <span>Contacto: Fitzone@gmail.com</span>
            <div class="social-icons">
                <a href="https://www.facebook.com" target="_blank" class="text-white me-3">
                    <i class="bi bi-facebook"></i>
                </a>
                <a href="https://www.instagram.com" target="_blank" class="text-white">
                    <i class="bi bi-instagram"></i>
                </a>
            </div>
        </div>
    </footer>

    <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
    <script th:src="@{/js/Perfil.js}"></script>
</body>
</html>
